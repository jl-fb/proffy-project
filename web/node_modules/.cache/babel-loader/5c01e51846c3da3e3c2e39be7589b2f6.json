{"ast":null,"code":"import BASEURL from './api';\nconst URL = `${BASEURL}/connections`;\n\nconst getTotal = () => {\n  return fetch(URL).then(async resp => {\n    console.log(resp);\n\n    if (resp.ok) {\n      const data = await resp.json();\n      return data;\n    }\n\n    throw new Error('Não foi possível resgatar o total de connections :(');\n  });\n};\n\nconst setConnection = user_id => {\n  return fetch(`${URL}`, {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\"\n    },\n    body: JSON.stringify({\n      user_id\n    })\n  }).then(async resp => {\n    console.log(resp);\n\n    if (resp.ok) {\n      return resp.status;\n    }\n\n    throw new Error(`Não foi possível acessar connections :( ${resp.statusText}`);\n  });\n};\n\nexport default {\n  getTotal,\n  setConnection\n};","map":{"version":3,"sources":["/home/joao/Documentos/pessoal/nlw/proffy-project/web/src/services/connections.service.ts"],"names":["BASEURL","URL","getTotal","fetch","then","resp","console","log","ok","data","json","Error","setConnection","user_id","method","headers","body","JSON","stringify","status","statusText"],"mappings":"AAAA,OAAOA,OAAP,MAAoB,OAApB;AAEA,MAAMC,GAAG,GAAI,GAAED,OAAQ,cAAvB;;AAEA,MAAME,QAAQ,GAAG,MAAM;AACrB,SAAOC,KAAK,CAACF,GAAD,CAAL,CAAWG,IAAX,CAAgB,MAAMC,IAAN,IAAc;AACnCC,IAAAA,OAAO,CAACC,GAAR,CAAYF,IAAZ;;AACA,QAAIA,IAAI,CAACG,EAAT,EAAa;AACX,YAAMC,IAAI,GAAG,MAAMJ,IAAI,CAACK,IAAL,EAAnB;AACA,aAAOD,IAAP;AACD;;AACD,UAAM,IAAIE,KAAJ,CAAU,qDAAV,CAAN;AACD,GAPM,CAAP;AAQD,CATD;;AAWA,MAAMC,aAAa,GAAIC,OAAD,IAAqB;AACzC,SAAOV,KAAK,CAAE,GAAEF,GAAI,EAAR,EAAW;AACrBa,IAAAA,MAAM,EAAE,MADa;AAErBC,IAAAA,OAAO,EAAE;AAAE,sBAAgB;AAAlB,KAFY;AAGrBC,IAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AAAEL,MAAAA;AAAF,KAAf;AAHe,GAAX,CAAL,CAKJT,IALI,CAKC,MAAMC,IAAN,IAAc;AAClBC,IAAAA,OAAO,CAACC,GAAR,CAAYF,IAAZ;;AACA,QAAIA,IAAI,CAACG,EAAT,EAAa;AACX,aAAOH,IAAI,CAACc,MAAZ;AACD;;AACD,UAAM,IAAIR,KAAJ,CAAW,2CAA0CN,IAAI,CAACe,UAAW,EAArE,CAAN;AACD,GAXI,CAAP;AAYD,CAbD;;AAeA,eAAe;AAAElB,EAAAA,QAAF;AAAYU,EAAAA;AAAZ,CAAf","sourcesContent":["import BASEURL from './api'\n\nconst URL = `${BASEURL}/connections`\n\nconst getTotal = () => {\n  return fetch(URL).then(async resp => {\n    console.log(resp)\n    if (resp.ok) {\n      const data = await resp.json()\n      return data\n    }\n    throw new Error('Não foi possível resgatar o total de connections :(')\n  })\n}\n\nconst setConnection = (user_id: number) => {\n  return fetch(`${URL}`, {\n    method: \"POST\",\n    headers: { \"Content-Type\": \"application/json\" },\n    body: JSON.stringify({ user_id })\n  })\n    .then(async resp => {\n      console.log(resp)\n      if (resp.ok) {\n        return resp.status\n      }\n      throw new Error(`Não foi possível acessar connections :( ${resp.statusText}`)\n    })\n}\n\nexport default { getTotal, setConnection }"]},"metadata":{},"sourceType":"module"}